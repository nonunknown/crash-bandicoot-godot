[gd_scene load_steps=5 format=2]

[ext_resource path="res://materials/crates/mat_tnt.tres" type="Material" id=1]
[ext_resource path="res://gameplay/obj_player.tscn" type="PackedScene" id=2]
[ext_resource path="res://resources/portal.tscn" type="PackedScene" id=3]

[sub_resource type="GDScript" id=1]
script/source = "extends Camera

onready var player = Groups.get_first(Groups.PLAYER)
func _process(_delta):
	var player_pos = player.global_transform.origin
	get_parent().look_at(player_pos,Vector3.UP)
#	get_parent().look_at_from_position(get_parent().global_transform.origin,player_pos,Vector3.RIGHT)
	look_at(player_pos, Vector3.UP)
#	pass
"

[node name="Spatial" type="Spatial"]

[node name="CSGCylinder" type="CSGCylinder" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5.26925, 0 )
radius = 0.76799
height = 7.70461
material = ExtResource( 1 )

[node name="CSGCylinder2" type="CSGCylinder" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.6812, 0 )
use_collision = true
radius = 5.76867
height = 6.72798
sides = 16

[node name="obj_player" parent="." instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.74674, 2.09436, -3.66808 )

[node name="Position3D" type="Position3D" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.64293, 0 )

[node name="Camera" type="Camera" parent="Position3D"]
transform = Transform( -1, 0, 3.25841e-07, 0, 1, 0, -3.25841e-07, 0, -1, 0, 1.41444, -6.21115 )
current = true
fov = 104.5
size = 0.48
far = 10000.0
script = SubResource( 1 )

[node name="Spatial" parent="." instance=ExtResource( 3 )]
transform = Transform( -0.314553, 0, 0.94924, 0, 1, 0, -0.94924, 0, -0.314553, -1.0788, 1.73384, -2.56364 )
